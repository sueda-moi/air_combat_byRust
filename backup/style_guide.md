# ğŸ¦€ Rust é£æ ¼ç»†èŠ‚æ¨èè¡¨ï¼ˆå®æˆ˜ç»´æŠ¤å‘ï¼‰

> é€‚åˆï¼šå·¥ç¨‹å®è·µ / å¼€æºåä½œ / é•¿æœŸç»´æŠ¤é¡¹ç›®

---

## 1. âœ… æœ«å°¾é€—å·ï¼ˆTrailing Commaï¼‰

### âœ… æ¨èåœ¨ä»¥ä¸‹ç»“æ„ä¸­ä¿ç•™é€—å·ï¼š

* å¤šè¡Œå…ƒç»„
* å¤šè¡Œæ•°ç»„ / åˆ—è¡¨ / å®å‚æ•°
* å¤šè¡Œå‡½æ•°å‚æ•° / è¿”å›å€¼
* å¤šè¡Œ `match` åˆ†æ”¯
* å¤šä¸ªæ’ä»¶ `.add_plugins((...))`

```rust
let config = (
    mode,
    path,
    debug,
);
```

> ä¼˜ç‚¹ï¼šå‡å°‘ diff å™ªéŸ³ï¼Œæ›´æ˜“äºè¿½åŠ å…ƒç´ ã€‚

---

## 2. âœ… `use` é¡ºåºï¼ˆImport Orderingï¼‰

æ¨èåˆ†ç»„ + ç©ºè¡Œéš”å¼€ï¼š

```rust
// æ ‡å‡†åº“
use std::fs::File;
use std::collections::HashMap;

// å¤–éƒ¨ crate
use bevy::prelude::*;

// æœ¬ crate çš„æ¨¡å—
use crate::components::Player;
use crate::core::rotate_cube;
```

> ä½¿ç”¨ `rust-analyzer` + `rustfmt` å¯è‡ªåŠ¨æ•´ç†ã€‚

---

## 3. âœ… ç©ºè¡Œçš„ä½¿ç”¨

### æ¨èæ·»åŠ ç©ºè¡Œçš„ä½ç½®ï¼š

* å‡½æ•°ä¹‹é—´
* `struct` / `impl` / `enum` å®šä¹‰ä¹‹é—´
* ä¸åŒé€»è¾‘åˆ†å—ï¼ˆå¯åŠ æ³¨é‡Šï¼‰

```rust
fn move_player() { ... }

fn rotate_cube() { ... }
```

---

## 4. âœ… å‡½æ•°ä½“ç¼©è¿›ä¸æ³¨é‡Š

```rust
fn setup() {
    // æ‘„åƒæœº
    commands.spawn(...);

    // å…‰æº
    commands.spawn(...);
}
```

* æ¯ä¸€å±‚ç¼©è¿› **4 ç©ºæ ¼**ï¼ˆé»˜è®¤ï¼‰
* å—å†…éƒ¨æ³¨é‡Šå»ºè®®ä½¿ç”¨ `//` è€Œä¸æ˜¯ `///`

---

## 5. âœ… æ¨¡å—ç»“æ„ï¼ˆmod.rsï¼‰

### æ¨èç»“æ„ï¼š

```bash
src/
â”œâ”€â”€ main.rs         # å…¥å£
â”œâ”€â”€ lib.rs          # æ’ä»¶èšåˆç‚¹ï¼ˆGamePluginï¼‰
â”œâ”€â”€ core/          # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ mod.rs
â”‚   â”œâ”€â”€ input.rs
â”‚   â””â”€â”€ camera.rs
â”œâ”€â”€ combat/        # æˆ˜æ–—ç³»ç»Ÿ
â”œâ”€â”€ ai/            # AI è¡Œä¸ºæ ‘æˆ–çŠ¶æ€æœº
â”œâ”€â”€ components.rs  # ç»„ä»¶å£°æ˜ï¼ˆä½ç½®ã€é€Ÿåº¦ã€è¡€é‡ç­‰ï¼‰
```

---

## 6. âœ… å¸¸è§çº¦å®šå‘½å

| ç±»å‹       | å‘½åé£æ ¼             | ç¤ºä¾‹                 |
| -------- | ---------------- | ------------------ |
| struct   | UpperCamel       | `Player`, `Health` |
| enum     | UpperCamel       | `GameState`        |
| fn / var | snake\_case      | `update_hp()`      |
| const    | SCREAMING\_SNAKE | `MAX_HP`           |

---

## 7. âœ… æ—¥å¿— / info è¾“å‡º

* ä½¿ç”¨ `info!()` è€Œé `println!()`
* éœ€å¯¼å…¥ï¼š`use bevy::log::info;`

```rust
info!("HP -> {}", hp.current);
```

---

## 8. âœ… `#[derive(...)]` å¤šè¡Œæ—¶å»ºè®®æ ¼å¼ï¼š

```rust
#[derive(
    Component,
    Debug,
    Clone,
    PartialEq,
)]
pub struct Player;
```

---

## 9. âœ… æ–‡ä»¶å‘½å

* æ–‡ä»¶ï¼š`snake_case.rs`
* æ–‡ä»¶å¤¹ï¼š`snake_case/`
* ä¸æ¨è `Player.rs`ã€`AI.rs` è¿™ç§å¤§å†™

---

## 10. âœ… å·¥å…·æ¨è

* è‡ªåŠ¨æ ¼å¼åŒ–ï¼š`cargo fmt`
* è‡ªåŠ¨æ£€æŸ¥ï¼š`cargo clippy`
* IDE æ’ä»¶ï¼š`rust-analyzer`

---

å¦‚éœ€è¿›ä¸€æ­¥ç»†åŒ–æˆä½ çš„é¡¹ç›®æ¨¡æ¿æˆ–åŠ  Git é’©å­ï¼Œæ¬¢è¿æå‡º ğŸ› 
